---
http_interactions:
- request:
    method: post
    uri: https://api.z.ai/api/paas/v4/chat/completions
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"user","content":[{"type":"text","text":"You are
        a bot that can run UNIX commands"}]},{"role":"user","content":[{"type":"text","text":"What
        is the date?"}]}],"model":"glm-4.5-flash","tools":[{"type":"function","name":"system","function":{"name":"system","description":"Runs
        system commands","parameters":{"type":"object","properties":{"command":{"type":"string"}},"required":["command"]}}}]}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Bearer TOKEN
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Transfer-Encoding:
      - chunked
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 28 Sep 2025 09:57:52 GMT
      Content-Type:
      - application/json; charset=UTF-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Set-Cookie:
      - acw_tc=0bc1a9c917590534692692225e0899a98080e54838526d68149defe2565884;path=/;HttpOnly;Max-Age=1800
      Server:
      - ZenZGA/2.4
      Vary:
      - Accept-Encoding
      - Access-Control-Request-Headers
      - Access-Control-Request-Headers
      - Access-Control-Request-Method
      - Access-Control-Request-Method
      - Origin
      - Origin
      X-Log-Id:
      - 202509281757492164487bf68c4ac1
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
    body:
      encoding: ASCII-8BIT
      string: '{"choices":[{"finish_reason":"tool_calls","index":0,"message":{"content":"\nI''ll
        get the current date for you using the date command.\n","reasoning_content":"\nThe
        user is asking for the date, which is a common UNIX command. I should use
        the `date` command to get the current date and time.","role":"assistant","tool_calls":[{"function":{"arguments":"{\"command\":
        \"date\"}","name":"system"},"id":"call_-8297576131923320661","index":0,"type":"function"}]}}],"created":1759053472,"id":"202509281757492164487bf68c4ac1","model":"glm-4.5-flash","request_id":"202509281757492164487bf68c4ac1","usage":{"completion_tokens":61,"prompt_tokens":169,"prompt_tokens_details":{"cached_tokens":160},"total_tokens":230}}'
  recorded_at: Sun, 28 Sep 2025 09:57:38 GMT
- request:
    method: post
    uri: https://api.z.ai/api/paas/v4/chat/completions
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"user","content":[{"type":"text","text":"You are
        a bot that can run UNIX commands"}]},{"role":"user","content":[{"type":"text","text":"What
        is the date?"}]},{"role":"assistant","content":null,"tool_calls":[{"function":{"arguments":"{\"command\":
        \"date\"}","name":"system"},"id":"call_-8297576131923320661","index":0,"type":"function"}]},{"role":"tool","tool_call_id":"call_-8297576131923320661","content":"{\"success\":\"2025-08-24\"}"}],"model":"glm-4.5-flash","tools":[{"type":"function","name":"system","function":{"name":"system","description":"Runs
        system commands","parameters":{"type":"object","properties":{"command":{"type":"string"}},"required":["command"]}}}]}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Bearer TOKEN
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Transfer-Encoding:
      - chunked
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 28 Sep 2025 09:57:55 GMT
      Content-Type:
      - application/json; charset=UTF-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Set-Cookie:
      - acw_tc=0bc1a98117590534739372110e5f41db19f234a1613e6d26001a7b788a9ca4;path=/;HttpOnly;Max-Age=1800
      Server:
      - ZenZGA/2.4
      Vary:
      - Accept-Encoding
      - Access-Control-Request-Headers
      - Access-Control-Request-Headers
      - Access-Control-Request-Method
      - Access-Control-Request-Method
      - Origin
      - Origin
      X-Log-Id:
      - 2025092817575487aec6e778004a4f
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
    body:
      encoding: ASCII-8BIT
      string: '{"choices":[{"finish_reason":"stop","index":0,"message":{"content":"\nThe
        current date is **2025-08-24** (August 24, 2025).","reasoning_content":"\nThe
        system command `date` was executed and returned the result \"2025-08-24\".
        This appears to be the current date in YYYY-MM-DD format. I should provide
        this information to the user in a clear and helpful way.","role":"assistant"}}],"created":1759053475,"id":"2025092817575487aec6e778004a4f","model":"glm-4.5-flash","request_id":"2025092817575487aec6e778004a4f","usage":{"completion_tokens":74,"prompt_tokens":201,"prompt_tokens_details":{"cached_tokens":0},"total_tokens":275}}'
  recorded_at: Sun, 28 Sep 2025 09:57:41 GMT
recorded_with: VCR 6.3.1
